<?xml version="1.0" encoding="UTF-8"?>
<configuration status="warn">
  <appenders>
    <Console name="Console" target="SYSTEM_OUT" follow="true">
      <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %t [%p] %c{1} (%F:%L) %msg%n"/>
    </Console>

    <XMDFile name="SERVICE-LOG" fileName="service.log" rolloverMax="120"></XMDFile>

    <XMDFile name="ERROR-LOG" fileName="error.log" rolloverMax="120">
      <ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="DENY"/>
    </XMDFile>

    <XMDFile name="WARN-LOG" fileName="warn.log" rolloverMax="120">
      <Filters>
        <ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="NEUTRAL"/>
        <ThresholdFilter level="warn" onMatch="ACCEPT" onMismatch="DENY"/>
      </Filters>
    </XMDFile>
  </appenders>

  <loggers>

    <root level="INFO">
      <!--控制台输出推荐只在本地调试时使用，线上将该配置去掉-->
      <!--<appender-ref ref="Console"/>-->
      <!--ERROR日志单独输出到一个文件-->
      <appender-ref ref="ERROR-LOG"/>
      <!--WARN日志单独输出到一个文件-->
      <appender-ref ref="WARN-LOG"/>
    </root>

    <logger name="dns.analyse" level="INFO">
      <appender-ref ref="SERVICE-LOG" />
    </logger>

    <logger name="service" level="INFO">
      <appender-ref ref="SERVICE-LOG" />
    </logger>

  </loggers>

</configuration>
